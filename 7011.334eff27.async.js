"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7011],{87011:function(B,U,_){_.r(U),_.d(U,{OBJLoader:function(){return k}});var r=_(99477);const D=/^[og]\s*(.+)?/,E=/^mtllib /,O=/^usemtl /,N=/^usemap /,C=/\s+/,z=new r.Pa4,L=new r.Pa4,A=new r.Pa4,F=new r.Pa4,y=new r.Pa4,V=new r.Ilk;function S(){const I={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(s,e){if(this.object&&this.object.fromDeclaration===!1){this.object.name=s,this.object.fromDeclaration=e!==!1;return}const i=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:s||"",fromDeclaration:e!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,n){const l=this._finalize(!1);l&&(l.inherited||l.groupCount<=0)&&this.materials.splice(l.index,1);const m={index:this.materials.length,name:t||"",mtllib:Array.isArray(n)&&n.length>0?n[n.length-1]:"",smooth:l!==void 0?l.smooth:this.smooth,groupStart:l!==void 0?l.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(b){const a={index:typeof b=="number"?b:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return a.clone=this.clone.bind(a),a}};return this.materials.push(m),m},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const n=this.currentMaterial();if(n&&n.groupEnd===-1&&(n.groupEnd=this.geometry.vertices.length/3,n.groupCount=n.groupEnd-n.groupStart,n.inherited=!1),t&&this.materials.length>1)for(let l=this.materials.length-1;l>=0;l--)this.materials[l].groupCount<=0&&this.materials.splice(l,1);return t&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),n}},i&&i.name&&typeof i.clone=="function"){const t=i.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(s,e){const i=parseInt(s,10);return(i>=0?i-1:i+e/3)*3},parseNormalIndex:function(s,e){const i=parseInt(s,10);return(i>=0?i-1:i+e/3)*3},parseUVIndex:function(s,e){const i=parseInt(s,10);return(i>=0?i-1:i+e/2)*2},addVertex:function(s,e,i){const t=this.vertices,n=this.object.geometry.vertices;n.push(t[s+0],t[s+1],t[s+2]),n.push(t[e+0],t[e+1],t[e+2]),n.push(t[i+0],t[i+1],t[i+2])},addVertexPoint:function(s){const e=this.vertices;this.object.geometry.vertices.push(e[s+0],e[s+1],e[s+2])},addVertexLine:function(s){const e=this.vertices;this.object.geometry.vertices.push(e[s+0],e[s+1],e[s+2])},addNormal:function(s,e,i){const t=this.normals,n=this.object.geometry.normals;n.push(t[s+0],t[s+1],t[s+2]),n.push(t[e+0],t[e+1],t[e+2]),n.push(t[i+0],t[i+1],t[i+2])},addFaceNormal:function(s,e,i){const t=this.vertices,n=this.object.geometry.normals;z.fromArray(t,s),L.fromArray(t,e),A.fromArray(t,i),y.subVectors(A,L),F.subVectors(z,L),y.cross(F),y.normalize(),n.push(y.x,y.y,y.z),n.push(y.x,y.y,y.z),n.push(y.x,y.y,y.z)},addColor:function(s,e,i){const t=this.colors,n=this.object.geometry.colors;t[s]!==void 0&&n.push(t[s+0],t[s+1],t[s+2]),t[e]!==void 0&&n.push(t[e+0],t[e+1],t[e+2]),t[i]!==void 0&&n.push(t[i+0],t[i+1],t[i+2])},addUV:function(s,e,i){const t=this.uvs,n=this.object.geometry.uvs;n.push(t[s+0],t[s+1]),n.push(t[e+0],t[e+1]),n.push(t[i+0],t[i+1])},addDefaultUV:function(){const s=this.object.geometry.uvs;s.push(0,0),s.push(0,0),s.push(0,0)},addUVLine:function(s){const e=this.uvs;this.object.geometry.uvs.push(e[s+0],e[s+1])},addFace:function(s,e,i,t,n,l,m,b,a){const u=this.vertices.length;let o=this.parseVertexIndex(s,u),c=this.parseVertexIndex(e,u),d=this.parseVertexIndex(i,u);if(this.addVertex(o,c,d),this.addColor(o,c,d),m!==void 0&&m!==""){const p=this.normals.length;o=this.parseNormalIndex(m,p),c=this.parseNormalIndex(b,p),d=this.parseNormalIndex(a,p),this.addNormal(o,c,d)}else this.addFaceNormal(o,c,d);if(t!==void 0&&t!==""){const p=this.uvs.length;o=this.parseUVIndex(t,p),c=this.parseUVIndex(n,p),d=this.parseUVIndex(l,p),this.addUV(o,c,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(s){this.object.geometry.type="Points";const e=this.vertices.length;for(let i=0,t=s.length;i<t;i++){const n=this.parseVertexIndex(s[i],e);this.addVertexPoint(n),this.addColor(n)}},addLineGeometry:function(s,e){this.object.geometry.type="Line";const i=this.vertices.length,t=this.uvs.length;for(let n=0,l=s.length;n<l;n++)this.addVertexLine(this.parseVertexIndex(s[n],i));for(let n=0,l=e.length;n<l;n++)this.addUVLine(this.parseUVIndex(e[n],t))}};return I.startObject("",!1),I}class k extends r.aNw{constructor(s){super(s),this.materials=null}load(s,e,i,t){const n=this,l=new r.hH6(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(s,function(m){try{e(n.parse(m))}catch(b){t?t(b):console.error(b),n.manager.itemError(s)}},i,t)}setMaterials(s){return this.materials=s,this}parse(s){const e=new S;s.indexOf(`\r
`)!==-1&&(s=s.replace(/\r\n/g,`
`)),s.indexOf(`\\
`)!==-1&&(s=s.replace(/\\\n/g,""));const i=s.split(`
`);let t=[];for(let m=0,b=i.length;m<b;m++){const a=i[m].trimStart();if(a.length===0)continue;const u=a.charAt(0);if(u!=="#")if(u==="v"){const o=a.split(C);switch(o[0]){case"v":e.vertices.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3])),o.length>=7?(V.setRGB(parseFloat(o[4]),parseFloat(o[5]),parseFloat(o[6]),r.KI_),e.colors.push(V.r,V.g,V.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));break;case"vt":e.uvs.push(parseFloat(o[1]),parseFloat(o[2]));break}}else if(u==="f"){const c=a.slice(1).trim().split(C),d=[];for(let h=0,g=c.length;h<g;h++){const v=c[h];if(v.length>0){const j=v.split("/");d.push(j)}}const p=d[0];for(let h=1,g=d.length-1;h<g;h++){const v=d[h],j=d[h+1];e.addFace(p[0],v[0],j[0],p[1],v[1],j[1],p[2],v[2],j[2])}}else if(u==="l"){const o=a.substring(1).trim().split(" ");let c=[];const d=[];if(a.indexOf("/")===-1)c=o;else for(let p=0,h=o.length;p<h;p++){const g=o[p].split("/");g[0]!==""&&c.push(g[0]),g[1]!==""&&d.push(g[1])}e.addLineGeometry(c,d)}else if(u==="p"){const c=a.slice(1).trim().split(" ");e.addPointGeometry(c)}else if((t=D.exec(a))!==null){const o=(" "+t[0].slice(1).trim()).slice(1);e.startObject(o)}else if(O.test(a))e.object.startMaterial(a.substring(7).trim(),e.materialLibraries);else if(E.test(a))e.materialLibraries.push(a.substring(7).trim());else if(N.test(a))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(u==="s"){if(t=a.split(" "),t.length>1){const c=t[1].trim().toLowerCase();e.object.smooth=c!=="0"&&c!=="off"}else e.object.smooth=!0;const o=e.object.currentMaterial();o&&(o.smooth=e.object.smooth)}else{if(a==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+a+'"')}}e.finalize();const n=new r.ZAu;if(n.materialLibraries=[].concat(e.materialLibraries),!(e.objects.length===1&&e.objects[0].geometry.vertices.length===0)===!0)for(let m=0,b=e.objects.length;m<b;m++){const a=e.objects[m],u=a.geometry,o=a.materials,c=u.type==="Line",d=u.type==="Points";let p=!1;if(u.vertices.length===0)continue;const h=new r.u9r;h.setAttribute("position",new r.a$l(u.vertices,3)),u.normals.length>0&&h.setAttribute("normal",new r.a$l(u.normals,3)),u.colors.length>0&&(p=!0,h.setAttribute("color",new r.a$l(u.colors,3))),u.hasUVIndices===!0&&h.setAttribute("uv",new r.a$l(u.uvs,2));const g=[];for(let j=0,P=o.length;j<P;j++){const x=o[j],M=x.name+"_"+x.smooth+"_"+p;let f=e.materials[M];if(this.materials!==null){if(f=this.materials.create(x.name),c&&f&&!(f instanceof r.nls)){const w=new r.nls;r.F5T.prototype.copy.call(w,f),w.color.copy(f.color),f=w}else if(d&&f&&!(f instanceof r.UY4)){const w=new r.UY4({size:10,sizeAttenuation:!1});r.F5T.prototype.copy.call(w,f),w.color.copy(f.color),w.map=f.map,f=w}}f===void 0&&(c?f=new r.nls:d?f=new r.UY4({size:1,sizeAttenuation:!1}):f=new r.xoR,f.name=x.name,f.flatShading=!x.smooth,f.vertexColors=p,e.materials[M]=f),g.push(f)}let v;if(g.length>1){for(let j=0,P=o.length;j<P;j++){const x=o[j];h.addGroup(x.groupStart,x.groupCount,j)}c?v=new r.ejS(h,g):d?v=new r.woe(h,g):v=new r.Kj0(h,g)}else c?v=new r.ejS(h,g[0]):d?v=new r.woe(h,g[0]):v=new r.Kj0(h,g[0]);v.name=a.name,n.add(v)}else if(e.vertices.length>0){const m=new r.UY4({size:1,sizeAttenuation:!1}),b=new r.u9r;b.setAttribute("position",new r.a$l(e.vertices,3)),e.colors.length>0&&e.colors[0]!==void 0&&(b.setAttribute("color",new r.a$l(e.colors,3)),m.vertexColors=!0);const a=new r.woe(b,m);n.add(a)}return n}}}}]);
