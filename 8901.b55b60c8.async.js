"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8901],{38901:function(je,z,d){d.r(z),d.d(z,{default:function(){return Re}});var C=d(67294),O=d(1413),Ar=d(97685),xr=d(7134),Tr=d(76248),Ir=d(64063),N=d.n(Ir),Cr=d(78647),Pr=d(33869),Ur=d(52464),f=d(97582),j=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};function s(r){return typeof r=="function"}function q(r){return s(r==null?void 0:r.then)}function Lr(r){var e=function(t){Error.call(t),t.stack=new Error().stack},n=r(e);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Z=Lr(function(r){return function(n){r(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(t,o){return o+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function _(r,e){if(r){var n=r.indexOf(e);0<=n&&r.splice(n,1)}}var Y=function(){function r(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var e,n,t,o,i;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var a=(0,f.XA)(u),c=a.next();!c.done;c=a.next()){var l=c.value;l.remove(this)}}catch(v){e={error:v}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}else u.remove(this);var h=this.initialTeardown;if(s(h))try{h()}catch(v){i=v instanceof Z?v.errors:[v]}var w=this._finalizers;if(w){this._finalizers=null;try{for(var m=(0,f.XA)(w),p=m.next();!p.done;p=m.next()){var U=p.value;try{er(U)}catch(v){i=i!=null?i:[],v instanceof Z?i=(0,f.ev)((0,f.ev)([],(0,f.CR)(i)),(0,f.CR)(v.errors)):i.push(v)}}}catch(v){t={error:v}}finally{try{p&&!p.done&&(o=m.return)&&o.call(m)}finally{if(t)throw t.error}}}if(i)throw new Z(i)}},r.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)er(e);else{if(e instanceof r){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}},r.prototype._hasParent=function(e){var n=this._parentage;return n===e||Array.isArray(n)&&n.includes(e)},r.prototype._addParent=function(e){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e},r.prototype._removeParent=function(e){var n=this._parentage;n===e?this._parentage=null:Array.isArray(n)&&_(n,e)},r.prototype.remove=function(e){var n=this._finalizers;n&&_(n,e),e instanceof r&&e._removeParent(this)},r.EMPTY=function(){var e=new r;return e.closed=!0,e}(),r}(),Ze=Y.EMPTY;function rr(r){return r instanceof Y||r&&"closed"in r&&s(r.remove)&&s(r.add)&&s(r.unsubscribe)}function er(r){s(r)?r():r.unsubscribe()}var g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},F={setTimeout:function(r,e){for(var n=[],t=2;t<arguments.length;t++)n[t-2]=arguments[t];var o=F.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,(0,f.ev)([r,e],(0,f.CR)(n))):setTimeout.apply(void 0,(0,f.ev)([r,e],(0,f.CR)(n)))},clearTimeout:function(r){var e=F.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(r)},delegate:void 0};function nr(r){F.setTimeout(function(){var e=g.onUnhandledError;if(e)e(r);else throw r})}function tr(){}var Or=function(){return D("C",void 0,void 0)}();function Fr(r){return D("E",void 0,r)}function Mr(r){return D("N",r,void 0)}function D(r,e,n){return{kind:r,value:e,error:n}}var E=null;function Rr(r){if(g.useDeprecatedSynchronousErrorHandling){var e=!E;if(e&&(E={errorThrown:!1,error:null}),r(),e){var n=E,t=n.errorThrown,o=n.error;if(E=null,t)throw o}}else r()}function jr(r){g.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=r)}var H=function(r){(0,f.ZT)(e,r);function e(n){var t=r.call(this)||this;return t.isStopped=!1,n?(t.destination=n,rr(n)&&n.add(t)):t.destination=Hr,t}return e.create=function(n,t,o){return new B(n,t,o)},e.prototype.next=function(n){this.isStopped?X(Mr(n),this):this._next(n)},e.prototype.error=function(n){this.isStopped?X(Fr(n),this):(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped?X(Or,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Y),Zr=Function.prototype.bind;function $(r,e){return Zr.call(r,e)}var Yr=function(){function r(e){this.partialObserver=e}return r.prototype.next=function(e){var n=this.partialObserver;if(n.next)try{n.next(e)}catch(t){M(t)}},r.prototype.error=function(e){var n=this.partialObserver;if(n.error)try{n.error(e)}catch(t){M(t)}else M(e)},r.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(n){M(n)}},r}(),B=function(r){(0,f.ZT)(e,r);function e(n,t,o){var i=r.call(this)||this,u;if(s(n)||!n)u={next:n!=null?n:void 0,error:t!=null?t:void 0,complete:o!=null?o:void 0};else{var a;i&&g.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},u={next:n.next&&$(n.next,a),error:n.error&&$(n.error,a),complete:n.complete&&$(n.complete,a)}):u=n}return i.destination=new Yr(u),i}return e}(H);function M(r){g.useDeprecatedSynchronousErrorHandling?jr(r):nr(r)}function Dr(r){throw r}function X(r,e){var n=g.onStoppedNotification;n&&F.setTimeout(function(){return n(r,e)})}var Hr={closed:!0,next:tr,error:Dr,complete:tr},G=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function J(r){return r}function Ye(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return or(r)}function or(r){return r.length===0?J:r.length===1?r[0]:function(n){return r.reduce(function(t,o){return o(t)},n)}}var y=function(){function r(e){e&&(this._subscribe=e)}return r.prototype.lift=function(e){var n=new r;return n.source=this,n.operator=e,n},r.prototype.subscribe=function(e,n,t){var o=this,i=Br(e)?e:new B(e,n,t);return Rr(function(){var u=o,a=u.operator,c=u.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},r.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){e.error(n)}},r.prototype.forEach=function(e,n){var t=this;return n=ir(n),new n(function(o,i){var u=new B({next:function(a){try{e(a)}catch(c){i(c),u.unsubscribe()}},error:i,complete:o});t.subscribe(u)})},r.prototype._subscribe=function(e){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(e)},r.prototype[G]=function(){return this},r.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return or(e)(this)},r.prototype.toPromise=function(e){var n=this;return e=ir(e),new e(function(t,o){var i;n.subscribe(function(u){return i=u},function(u){return o(u)},function(){return t(i)})})},r.create=function(e){return new r(e)},r}();function ir(r){var e;return(e=r!=null?r:g.Promise)!==null&&e!==void 0?e:Promise}function $r(r){return r&&s(r.next)&&s(r.error)&&s(r.complete)}function Br(r){return r&&r instanceof H||$r(r)&&rr(r)}function ur(r){return s(r[G])}function ar(r){return Symbol.asyncIterator&&s(r==null?void 0:r[Symbol.asyncIterator])}function cr(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Xr(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var sr=Xr();function fr(r){return s(r==null?void 0:r[sr])}function lr(r){return(0,f.FC)(this,arguments,function(){var n,t,o,i;return(0,f.Jh)(this,function(u){switch(u.label){case 0:n=r.getReader(),u.label=1;case 1:u.trys.push([1,,9,10]),u.label=2;case 2:return[4,(0,f.qq)(n.read())];case 3:return t=u.sent(),o=t.value,i=t.done,i?[4,(0,f.qq)(void 0)]:[3,5];case 4:return[2,u.sent()];case 5:return[4,(0,f.qq)(o)];case 6:return[4,u.sent()];case 7:return u.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function vr(r){return s(r==null?void 0:r.getReader)}function A(r){if(r instanceof y)return r;if(r!=null){if(ur(r))return Gr(r);if(j(r))return Jr(r);if(q(r))return Kr(r);if(ar(r))return dr(r);if(fr(r))return Wr(r);if(vr(r))return kr(r)}throw cr(r)}function Gr(r){return new y(function(e){var n=r[G]();if(s(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jr(r){return new y(function(e){for(var n=0;n<r.length&&!e.closed;n++)e.next(r[n]);e.complete()})}function Kr(r){return new y(function(e){r.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,nr)})}function Wr(r){return new y(function(e){var n,t;try{for(var o=(0,f.XA)(r),i=o.next();!i.done;i=o.next()){var u=i.value;if(e.next(u),e.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}e.complete()})}function dr(r){return new y(function(e){Qr(r,e).catch(function(n){return e.error(n)})})}function kr(r){return dr(lr(r))}function Qr(r,e){var n,t,o,i;return(0,f.mG)(this,void 0,void 0,function(){var u,a;return(0,f.Jh)(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=(0,f.KL)(r),c.label=1;case 1:return[4,n.next()];case 2:if(t=c.sent(),!!t.done)return[3,4];if(u=t.value,e.next(u),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),t&&!t.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Vr(r){return s(r==null?void 0:r.lift)}function x(r){return function(e){if(Vr(e))return e.lift(function(n){try{return r(n,this)}catch(t){this.error(t)}});throw new TypeError("Unable to lift unknown Observable type")}}function P(r,e,n,t,o){return new zr(r,e,n,t,o)}var zr=function(r){(0,f.ZT)(e,r);function e(n,t,o,i,u,a){var c=r.call(this,n)||this;return c.onFinalize=u,c.shouldUnsubscribe=a,c._next=t?function(l){try{t(l)}catch(h){n.error(h)}}:r.prototype._next,c._error=i?function(l){try{i(l)}catch(h){n.error(h)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=o?function(){try{o()}catch(l){n.error(l)}finally{this.unsubscribe()}}:r.prototype._complete,c}return e.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;r.prototype.unsubscribe.call(this),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},e}(H);function T(r,e){return x(function(n,t){var o=0;n.subscribe(P(t,function(i){t.next(r.call(e,i,o++))}))})}function S(r,e,n,t,o){t===void 0&&(t=0),o===void 0&&(o=!1);var i=e.schedule(function(){n(),o?r.add(this.schedule(null,t)):this.unsubscribe()},t);if(r.add(i),!o)return i}function Nr(r,e,n,t,o,i,u,a){var c=[],l=0,h=0,w=!1,m=function(){w&&!c.length&&!l&&e.complete()},p=function(v){return l<t?U(v):c.push(v)},U=function(v){i&&e.next(v),l++;var Er=!1;A(n(v,h++)).subscribe(P(e,function(L){o==null||o(L),i?p(L):e.next(L)},function(){Er=!0},void 0,function(){if(Er)try{l--;for(var L=function(){var R=c.shift();u?S(e,u,function(){return U(R)}):U(R)};c.length&&l<t;)L();m()}catch(R){e.error(R)}}))};return r.subscribe(P(e,p,function(){w=!0,m()})),function(){a==null||a()}}function K(r,e,n){return n===void 0&&(n=1/0),s(e)?K(function(t,o){return T(function(i,u){return e(t,i,o,u)})(A(r(t,o)))},n):(typeof e=="number"&&(n=e),x(function(t,o){return Nr(t,o,r,n)}))}var qr=Array.isArray;function _r(r,e){return qr(e)?r.apply(void 0,(0,f.ev)([],(0,f.CR)(e))):r(e)}function re(r){return T(function(e){return _r(r,e)})}var ee=["addListener","removeListener"],ne=["addEventListener","removeEventListener"],te=["on","off"];function I(r,e,n,t){if(s(n)&&(t=n,n=void 0),t)return I(r,e,n).pipe(re(t));var o=(0,f.CR)(ue(r)?ne.map(function(a){return function(c){return r[a](e,c,n)}}):oe(r)?ee.map(hr(r,e)):ie(r)?te.map(hr(r,e)):[],2),i=o[0],u=o[1];if(!i&&j(r))return K(function(a){return I(a,e,n)})(A(r));if(!i)throw new TypeError("Invalid event target");return new y(function(a){var c=function(){for(var l=[],h=0;h<arguments.length;h++)l[h]=arguments[h];return a.next(1<l.length?l:l[0])};return i(c),function(){return u(c)}})}function hr(r,e){return function(n){return function(t){return r[n](e,t)}}}function oe(r){return s(r.addListener)&&s(r.removeListener)}function ie(r){return s(r.on)&&s(r.off)}function ue(r){return s(r.addEventListener)&&s(r.removeEventListener)}function ae(r,e){return e===void 0&&(e=J),r=r!=null?r:ce,x(function(n,t){var o,i=!0;n.subscribe(P(t,function(u){var a=e(u);(i||!r(o,a))&&(i=!1,o=a,t.next(u))}))})}function ce(r,e){return r===e}function pr(r){return r===void 0&&(r=1/0),K(J,r)}function se(){return pr(1)}function fe(r){return r&&s(r.schedule)}function W(r){return r[r.length-1]}function De(r){return isFunction(W(r))?r.pop():void 0}function k(r){return fe(W(r))?r.pop():void 0}function le(r,e){return typeof W(r)=="number"?r.pop():e}function yr(r,e){return e===void 0&&(e=0),x(function(n,t){n.subscribe(P(t,function(o){return S(t,r,function(){return t.next(o)},e)},function(){return S(t,r,function(){return t.complete()},e)},function(o){return S(t,r,function(){return t.error(o)},e)}))})}function mr(r,e){return e===void 0&&(e=0),x(function(n,t){t.add(r.schedule(function(){return n.subscribe(t)},e))})}function ve(r,e){return A(r).pipe(mr(e),yr(e))}function de(r,e){return A(r).pipe(mr(e),yr(e))}function he(r,e){return new y(function(n){var t=0;return e.schedule(function(){t===r.length?n.complete():(n.next(r[t++]),n.closed||this.schedule())})})}function pe(r,e){return new y(function(n){var t;return S(n,e,function(){t=r[sr](),S(n,e,function(){var o,i,u;try{o=t.next(),i=o.value,u=o.done}catch(a){n.error(a);return}u?n.complete():n.next(i)},0,!0)}),function(){return s(t==null?void 0:t.return)&&t.return()}})}function br(r,e){if(!r)throw new Error("Iterable cannot be null");return new y(function(n){S(n,e,function(){var t=r[Symbol.asyncIterator]();S(n,e,function(){t.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function ye(r,e){return br(lr(r),e)}function me(r,e){if(r!=null){if(ur(r))return ve(r,e);if(j(r))return he(r,e);if(q(r))return de(r,e);if(ar(r))return br(r,e);if(fr(r))return pe(r,e);if(vr(r))return ye(r,e)}throw cr(r)}function Sr(r,e){return e?me(r,e):A(r)}function wr(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return se()(Sr(r,k(r)))}function be(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=k(r);return x(function(t,o){(n?wr(r,t,n):wr(r,t)).subscribe(o)})}var gr=new y(function(r){return r.complete()});function He(r){return r?Se(r):gr}function Se(r){return new Observable(function(e){return r.schedule(function(){return e.complete()})})}function we(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var n=k(r),t=le(r,1/0),o=r;return o.length?o.length===1?A(o[0]):pr(t)(Sr(o,n)):gr}var ge=I(document,"mousemove").pipe(ae(),T(function(r){return{x:r.clientX,y:r.clientY}}),be({x:-100,y:-100})),Ee=we(I(document,"visibilitychange").pipe(T(function(){return document.visibilityState})),I(window,"focus").pipe(T(function(){return document.visibilityState})),I(window,"blur").pipe(T(function(){return"hidden"}))),Ae=function(e){var n=e.onMouseMove,t=e.onBlur;(0,C.useEffect)(function(){var o=ge.subscribe(n),i=Ee.subscribe(t);return function(){o.unsubscribe(),i.unsubscribe()}},[])},xe=function(e,n){var t=(0,Ur.F)(function(u){return{provider:e,awareness:e.awareness,currentUser:(0,O.Z)({id:(0,Cr.x0)()},n),awarenessStates:[],setFollowUser:function(c){u({followUser:c})}}},N()),o=t.getState(),i=o.awareness;return Ae({onMouseMove:function(a){i.setLocalStateField("cursor",a)},onBlur:function(a){i.setLocalStateField("active",a==="visible")}}),(0,C.useEffect)(function(){i.on("change",function(){var u=Array.from(i.getStates().values());t.setState(function(a){return(0,O.Z)((0,O.Z)({},a),{},{awarenessStates:u})})}),i.setLocalStateField("user",t.getState().currentUser),i.setLocalStateField("active",!0)},[]),t},Q=(0,Pr.k)(),V=Q.useStore,Te=Q.Provider,$e=Q.useStoreApi,Ie=d(49770),b=d(85893),Ce=function(e){var n=e.id,t=e.name,o=e.color,i=e.active,u=V(function(p){return[p.followUser,p.currentUser,p.setFollowUser]},Tr.X),a=(0,Ar.Z)(u,3),c=a[0],l=a[1],h=a[2],w=l===n,m=c&&c===n;return(0,b.jsx)(Ie.Z,{name:t,current:w,following:m,color:o,active:i,onClick:function(){w||h(m?void 0:n)}})},Pe=(0,C.memo)(function(){var r=V(function(e){return e.awarenessStates});return(0,b.jsx)(xr.C.Group,{children:r==null?void 0:r.filter(Boolean).map(function(e,n){var t=e.user,o=e.active;return(0,b.jsx)(Ce,(0,O.Z)({active:o},t),"".concat(t==null?void 0:t.id,"-").concat(n))})})}),Ue=Pe,Le=d(72058),Oe=(0,C.memo)(function(){var r=V(function(e){var n;return(n=e.awarenessStates)===null||n===void 0?void 0:n.filter(function(t){return t.active&&t.user.id!==e.currentUser.id})},N());return(0,b.jsx)(b.Fragment,{children:r==null?void 0:r.map(function(e){var n=e.cursor,t=e.user;return(0,b.jsx)(Le.Z,{position:n,color:t.color,name:t.name},t.id)})})}),Fe=Oe,Me=(0,C.memo)(function(r){var e=r.provider,n=r.avatars,t=n===void 0?!0:n,o=r.cursors,i=o===void 0?!0:o,u=r.user;return(0,b.jsxs)(Te,{createStore:function(){return xe(e,u)},children:[i&&(0,b.jsx)(Fe,{}),t&&(0,b.jsx)(Ue,{})]})}),Re=Me}}]);
